:root {
    --zones-vanalinn:#ef4444;
    --zones-sydalinn:#f59e0b;
    --zones-kesklinn:#3b82f6;
    --zones-pirita:#10b981;
    --lots-osm:#2563eb;
    --points-city:#22c55e;
    --glass-bg: rgba(255,255,255,0.85);
    --glass-border: #e5e7eb;
}

html, body, #app { height: 100%; margin:0; }
.leaflet-container { height: 100%; width: 100%; }
.page { max-width: 960px; margin: 0 auto; padding: 12px; }
.header { display:flex; align-items:center; justify-content:space-between; gap:8px; height:56px; }
.btn {
    appearance: none; border:0; padding:12px 14px; border-radius:10px;
    background:#0f172a; color:#fff; font-weight:600; font-size:16px;
}
.btn.outline { background:#fff; color:#0f172a; border:2px solid #0f172a; }
.card { border:1px solid #e5e7eb; border-radius:12px; padding:12px; margin:8px 0; }
.row { display:flex; gap:10px; align-items:center; }
.badge { padding:2px 8px; border-radius:999px; font-size:12px; }
.badge.green { background:#d1fae5; color:#065f46; }
.badge.red { background:#fee2e2; color:#991b1b; }
.badge.gray { background:#e5e7eb; color:#374151; }

/* Floating controls */
.floating-controls {
    position: absolute;
    top: 68px;
    left: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 2000;
    pointer-events: none;
}
.floating-controls.right {
    left: auto;
    right: 12px;
}
.control-box {
    background: var(--glass-bg);
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    backdrop-filter: blur(8px);
    pointer-events: auto;
}
.search-input {
    width: 240px;
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    padding: 10px 12px;
    font-size: 16px;
}

/* Chips */
.chip {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid var(--glass-border);
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    font-size: 13px;
    font-weight: 600;
    color: #0f172a;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}
.chip .dot { width: 8px; height: 8px; }

/* Bottom sheet */
.bottom-sheet {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: 32vh;
    max-height: 60vh;
    background: #fff;
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
    box-shadow: 0 -4px 16px rgba(0,0,0,0.1);
    z-index: 1900;
    display: flex;
    flex-direction: column;
    transition: height 260ms ease;
}
.bottom-sheet.expanded { height: 58vh; }
.bottom-sheet .handle {
    width: 44px; height: 5px; border-radius: 999px; background:#e5e7eb; margin: 8px auto;
}
.bottom-sheet .content {
    overflow: auto;
    padding: 8px 12px 16px;
}

/* Legend dots */
.legend {
    display:flex; flex-direction:column; gap:6px; font-size:12px;
}
.legend-item { display:flex; align-items:center; gap:6px; }
.dot { width:10px; height:10px; border-radius:999px; display:inline-block; }
.dot.vanalinn { background: var(--zones-vanalinn); }
.dot.sydalinn { background: var(--zones-sydalinn); }
.dot.kesklinn { background: var(--zones-kesklinn); }
.dot.pirita { background: var(--zones-pirita); }
.dot.osm { background: var(--lots-osm); }
.dot.city { background: var(--points-city); }

/* Ensure overlay buttons are clickable */
.floating-controls .btn { pointer-events: auto; }

/* Map header gradient */
.map-header {
    position: sticky;
    top: 0;
    z-index: 2100;
    background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.7));
    backdrop-filter: blur(6px);
    border-bottom: 1px solid #e5e7eb;
}

/* Responsive tweaks */
@media (max-width: 480px) {
    .search-input { width: 100%; }
    .floating-controls { left: 8px; }
    .floating-controls.right { right: 8px; }
}
